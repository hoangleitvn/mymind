<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 1000" width="800" height="1000">
  <!-- ======================= DEFINITIONS ======================= -->
  <defs>
    <!-- Gradients for cards -->
    <linearGradient id="cardGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff"/>
      <stop offset="100%" style="stop-color:#f8fafc"/>
    </linearGradient>

    <!-- Header gradients -->
    <linearGradient id="restGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#00a86b"/>
      <stop offset="100%" style="stop-color:#10b981"/>
    </linearGradient>
    <linearGradient id="graphqlGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#1f2937"/>
      <stop offset="100%" style="stop-color:#374151"/>
    </linearGradient>
    <linearGradient id="wsGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
    <linearGradient id="grpcGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#00a86b"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="mqttGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#fbbf24"/>
    </linearGradient>
    <linearGradient id="serverlessGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#00a86b"/>
      <stop offset="100%" style="stop-color:#34d399"/>
    </linearGradient>

    <!-- Data packet gradients -->
    <radialGradient id="requestPacket" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#fde68a"/>
      <stop offset="100%" style="stop-color:#f59e0b"/>
    </radialGradient>
    <radialGradient id="responsePacket" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#6ee7b7"/>
      <stop offset="100%" style="stop-color:#00a86b"/>
    </radialGradient>
    <radialGradient id="dataPacket" cx="50%" cy="30%" r="70%">
      <stop offset="0%" style="stop-color:#93c5fd"/>
      <stop offset="100%" style="stop-color:#3b82f6"/>
    </radialGradient>

    <!-- Screen gradient -->
    <linearGradient id="screenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3a5f"/>
      <stop offset="100%" style="stop-color:#0f172a"/>
    </linearGradient>

    <!-- Server gradient -->
    <linearGradient id="serverGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#374151"/>
      <stop offset="100%" style="stop-color:#1f2937"/>
    </linearGradient>

    <!-- Glow filter -->
    <filter id="glow" x="-100%" y="-100%" width="300%" height="300%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- Soft shadow -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.1"/>
    </filter>

    <!-- Pulse animation for indicators -->
    <filter id="pulse">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge>
        <feMergeNode in="blur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <!-- GraphQL hexagon pattern -->
    <linearGradient id="hexGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fbbf24"/>
      <stop offset="100%" style="stop-color:#f59e0b"/>
    </linearGradient>

    <!-- Lambda gradient -->
    <linearGradient id="lambdaGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fef3c7"/>
      <stop offset="100%" style="stop-color:#fde68a"/>
    </linearGradient>

    <!-- Cloud gradient -->
    <linearGradient id="cloudGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#e0f2fe"/>
      <stop offset="100%" style="stop-color:#bae6fd"/>
    </linearGradient>

    <!-- Database gradient -->
    <linearGradient id="dbGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4ade80"/>
      <stop offset="100%" style="stop-color:#22c55e"/>
    </linearGradient>
  </defs>

  <!-- ======================= BACKGROUND ======================= -->
  <rect width="800" height="1000" fill="#f1f5f9"/>

  <!-- Subtle pattern -->
  <g opacity="0.3">
    <circle cx="50" cy="500" r="300" fill="none" stroke="#e2e8f0" stroke-width="1"/>
    <circle cx="750" cy="300" r="200" fill="none" stroke="#e2e8f0" stroke-width="1"/>
    <circle cx="400" cy="900" r="250" fill="none" stroke="#e2e8f0" stroke-width="1"/>
  </g>

  <!-- ======================= HEADER ======================= -->
  <rect x="0" y="0" width="800" height="80" fill="#1f2937"/>
  <rect x="0" y="75" width="800" height="5" fill="#00a86b"/>

  <text x="40" y="48" font-family="Inter, system-ui, sans-serif" font-size="14" fill="#9ca3af">@hoangleitvn</text>
  <text x="400" y="50" font-family="Inter, system-ui, sans-serif" font-size="26" font-weight="700" fill="#f9fafb" text-anchor="middle">
    <tspan fill="#00a86b">6</tspan> COMMON WAYS TO BUILD <tspan fill="#f59e0b">APIs</tspan>
  </text>

  <!-- ======================= CARD 1: REST ======================= -->
  <g transform="translate(40, 100)">
    <rect width="350" height="260" rx="16" fill="url(#cardGrad)" filter="url(#shadow)"/>

    <!-- Header -->
    <rect x="0" y="0" width="90" height="38" rx="16" fill="url(#restGrad)"/>
    <rect x="0" y="19" width="90" height="19" fill="url(#restGrad)"/>
    <text x="20" y="26" font-family="Inter, system-ui, sans-serif" font-size="15" font-weight="700" fill="#ffffff">REST</text>

    <!-- Modern Laptop -->
    <g transform="translate(40, 95)">
      <!-- Laptop body -->
      <rect x="0" y="0" width="70" height="45" rx="4" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
      <!-- Screen -->
      <rect x="4" y="4" width="62" height="37" rx="2" fill="url(#screenGrad)"/>
      <!-- Screen content - code lines -->
      <rect x="8" y="10" width="30" height="3" rx="1" fill="#4ade80" opacity="0.8"/>
      <rect x="8" y="16" width="45" height="3" rx="1" fill="#60a5fa" opacity="0.6"/>
      <rect x="8" y="22" width="25" height="3" rx="1" fill="#fbbf24" opacity="0.6"/>
      <rect x="8" y="28" width="40" height="3" rx="1" fill="#94a3b8" opacity="0.5"/>
      <!-- Keyboard base -->
      <path d="M-5 45 L75 45 L70 52 L0 52 Z" fill="#cbd5e1"/>
      <!-- Camera dot -->
      <circle cx="35" cy="7" r="2" fill="#374151"/>
    </g>

    <!-- Labels -->
    <text x="75" y="75" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle" font-weight="600">CLIENT</text>

    <!-- Connection paths -->
    <path id="restReqPath" d="M120 115 Q175 100 260 115" stroke="none" fill="none"/>
    <path id="restResPath" d="M260 135 Q175 150 120 135" stroke="none" fill="none"/>

    <!-- Curved arrows -->
    <path d="M120 115 Q175 100 260 115" stroke="#d1d5db" stroke-width="2" fill="none" stroke-dasharray="6,4"/>
    <path d="M260 135 Q175 150 120 135" stroke="#d1d5db" stroke-width="2" fill="none"/>

    <!-- Arrow heads -->
    <polygon points="260,115 252,110 252,120" fill="#d1d5db"/>
    <polygon points="120,135 128,130 128,140" fill="#d1d5db"/>

    <!-- Modern Server -->
    <g transform="translate(255, 85)">
      <!-- Server rack -->
      <rect x="0" y="0" width="70" height="70" rx="6" fill="url(#serverGrad)"/>
      <!-- Rack units -->
      <rect x="6" y="8" width="58" height="14" rx="2" fill="#4b5563"/>
      <rect x="6" y="26" width="58" height="14" rx="2" fill="#4b5563"/>
      <rect x="6" y="44" width="58" height="14" rx="2" fill="#4b5563"/>
      <!-- Vents -->
      <g fill="#374151">
        <rect x="10" y="11" width="30" height="2" rx="1"/>
        <rect x="10" y="14" width="30" height="2" rx="1"/>
        <rect x="10" y="29" width="30" height="2" rx="1"/>
        <rect x="10" y="32" width="30" height="2" rx="1"/>
        <rect x="10" y="47" width="30" height="2" rx="1"/>
        <rect x="10" y="50" width="30" height="2" rx="1"/>
      </g>
      <!-- Status LEDs with pulse -->
      <circle cx="54" cy="15" r="4" fill="#22c55e">
        <animate attributeName="opacity" values="1;0.4;1" dur="2s" repeatCount="indefinite"/>
      </circle>
      <circle cx="54" cy="33" r="4" fill="#22c55e">
        <animate attributeName="opacity" values="1;0.4;1" dur="2s" repeatCount="indefinite" begin="0.3s"/>
      </circle>
      <circle cx="54" cy="51" r="4" fill="#f59e0b">
        <animate attributeName="opacity" values="1;0.6;1" dur="1.5s" repeatCount="indefinite"/>
      </circle>
    </g>

    <text x="290" y="175" font-family="Inter, system-ui, sans-serif" font-size="10" fill="#64748b" text-anchor="middle" font-weight="600">SERVER</text>

    <!-- Labels for arrows -->
    <text x="180" y="95" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#f59e0b" text-anchor="middle" font-weight="600">GET /users</text>
    <text x="180" y="165" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#00a86b" text-anchor="middle" font-weight="600">200 OK + JSON</text>

    <!-- Animated packets -->
    <circle r="7" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="2s" repeatCount="indefinite">
        <mpath href="#restReqPath"/>
      </animateMotion>
    </circle>
    <circle r="7" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="2s" repeatCount="indefinite" begin="1s">
        <mpath href="#restResPath"/>
      </animateMotion>
    </circle>
  </g>

  <!-- ======================= CARD 2: GRAPHQL ======================= -->
  <g transform="translate(410, 100)">
    <rect width="350" height="260" rx="16" fill="url(#cardGrad)" filter="url(#shadow)"/>

    <!-- Header -->
    <rect x="0" y="0" width="120" height="38" rx="16" fill="url(#graphqlGrad)"/>
    <rect x="0" y="19" width="120" height="19" fill="url(#graphqlGrad)"/>
    <text x="15" y="26" font-family="Inter, system-ui, sans-serif" font-size="15" font-weight="700" fill="#ffffff">GRAPHQL</text>

    <!-- Client laptop -->
    <g transform="translate(25, 100)">
      <rect x="0" y="0" width="60" height="40" rx="4" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
      <rect x="4" y="4" width="52" height="32" rx="2" fill="url(#screenGrad)"/>
      <rect x="8" y="10" width="25" height="2" rx="1" fill="#e879f9" opacity="0.8"/>
      <rect x="8" y="15" width="35" height="2" rx="1" fill="#60a5fa" opacity="0.6"/>
      <rect x="8" y="20" width="20" height="2" rx="1" fill="#94a3b8" opacity="0.5"/>
      <path d="M-4 40 L64 40 L60 46 L0 46 Z" fill="#cbd5e1"/>
    </g>

    <!-- GraphQL Hub - Rotating hexagon -->
    <g transform="translate(155, 95)">
      <polygon points="30,0 60,17 60,52 30,69 0,52 0,17" fill="url(#hexGrad)" stroke="#d97706" stroke-width="2">
        <animateTransform attributeName="transform" type="rotate" from="0 30 35" to="360 30 35" dur="20s" repeatCount="indefinite"/>
      </polygon>
      <!-- Inner glow -->
      <polygon points="30,10 50,22 50,47 30,59 10,47 10,22" fill="#fef3c7" opacity="0.5"/>
      <text x="30" y="42" font-family="Inter, system-ui, sans-serif" font-size="22" fill="#92400e" text-anchor="middle" font-weight="800">G</text>
    </g>

    <!-- Connection paths -->
    <path id="gqlInPath" d="M90 120 Q120 120 150 125" stroke="none" fill="none"/>
    <path id="gqlOut1Path" d="M220 110 L280 80" stroke="none" fill="none"/>
    <path id="gqlOut2Path" d="M220 130 L280 130" stroke="none" fill="none"/>
    <path id="gqlOut3Path" d="M220 150 L280 180" stroke="none" fill="none"/>

    <!-- Lines -->
    <line x1="90" y1="120" x2="150" y2="125" stroke="#d1d5db" stroke-width="2"/>
    <line x1="220" y1="110" x2="280" y2="80" stroke="#d1d5db" stroke-width="2"/>
    <line x1="220" y1="130" x2="280" y2="130" stroke="#d1d5db" stroke-width="2"/>
    <line x1="220" y1="150" x2="280" y2="180" stroke="#d1d5db" stroke-width="2"/>

    <!-- Database icons -->
    <g transform="translate(275, 60)">
      <ellipse cx="25" cy="8" rx="25" ry="8" fill="url(#dbGrad)"/>
      <rect x="0" y="8" width="50" height="25" fill="url(#dbGrad)"/>
      <ellipse cx="25" cy="33" rx="25" ry="8" fill="#16a34a"/>
      <ellipse cx="25" cy="20" rx="25" ry="8" fill="none" stroke="#15803d" stroke-width="1" opacity="0.5"/>
    </g>
    <g transform="translate(275, 110)">
      <ellipse cx="25" cy="8" rx="25" ry="8" fill="url(#dbGrad)"/>
      <rect x="0" y="8" width="50" height="25" fill="url(#dbGrad)"/>
      <ellipse cx="25" cy="33" rx="25" ry="8" fill="#16a34a"/>
      <ellipse cx="25" cy="20" rx="25" ry="8" fill="none" stroke="#15803d" stroke-width="1" opacity="0.5"/>
    </g>
    <g transform="translate(275, 160)">
      <ellipse cx="25" cy="8" rx="25" ry="8" fill="url(#dbGrad)"/>
      <rect x="0" y="8" width="50" height="25" fill="url(#dbGrad)"/>
      <ellipse cx="25" cy="33" rx="25" ry="8" fill="#16a34a"/>
      <ellipse cx="25" cy="20" rx="25" ry="8" fill="none" stroke="#15803d" stroke-width="1" opacity="0.5"/>
    </g>

    <!-- Animated packets -->
    <circle r="5" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="1.5s" repeatCount="indefinite">
        <mpath href="#gqlInPath"/>
      </animateMotion>
    </circle>
    <circle r="4" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.5s">
        <mpath href="#gqlOut1Path"/>
      </animateMotion>
    </circle>
    <circle r="4" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.7s">
        <mpath href="#gqlOut2Path"/>
      </animateMotion>
    </circle>
    <circle r="4" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.9s">
        <mpath href="#gqlOut3Path"/>
      </animateMotion>
    </circle>

    <text x="55" y="165" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">SINGLE QUERY</text>
    <text x="300" y="215" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">DATA SOURCES</text>
  </g>

  <!-- ======================= CARD 3: WEBSOCKET ======================= -->
  <g transform="translate(40, 380)">
    <rect width="350" height="260" rx="16" fill="url(#cardGrad)" filter="url(#shadow)"/>

    <!-- Header -->
    <rect x="0" y="0" width="140" height="38" rx="16" fill="url(#wsGrad)"/>
    <rect x="0" y="19" width="140" height="19" fill="url(#wsGrad)"/>
    <text x="15" y="26" font-family="Inter, system-ui, sans-serif" font-size="15" font-weight="700" fill="#ffffff">WEBSOCKET</text>

    <!-- Browser window -->
    <g transform="translate(30, 90)">
      <rect x="0" y="0" width="80" height="60" rx="6" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
      <!-- Browser chrome -->
      <rect x="0" y="0" width="80" height="15" rx="6" fill="#f1f5f9"/>
      <rect x="0" y="9" width="80" height="6" fill="#f1f5f9"/>
      <!-- Traffic lights -->
      <circle cx="10" cy="7" r="3" fill="#ef4444"/>
      <circle cx="20" cy="7" r="3" fill="#fbbf24"/>
      <circle cx="30" cy="7" r="3" fill="#22c55e"/>
      <!-- Content -->
      <rect x="4" y="18" width="72" height="38" fill="url(#screenGrad)"/>
      <!-- Chat bubbles -->
      <rect x="8" y="22" width="35" height="10" rx="3" fill="#6366f1" opacity="0.8"/>
      <rect x="33" y="36" width="35" height="10" rx="3" fill="#22c55e" opacity="0.8"/>
    </g>

    <!-- Server -->
    <g transform="translate(230, 85)">
      <rect x="0" y="0" width="70" height="70" rx="6" fill="url(#serverGrad)"/>
      <rect x="6" y="8" width="58" height="14" rx="2" fill="#4b5563"/>
      <rect x="6" y="26" width="58" height="14" rx="2" fill="#4b5563"/>
      <rect x="6" y="44" width="58" height="14" rx="2" fill="#4b5563"/>
      <circle cx="54" cy="15" r="4" fill="#6366f1">
        <animate attributeName="opacity" values="1;0.3;1" dur="0.5s" repeatCount="indefinite"/>
      </circle>
      <circle cx="54" cy="33" r="4" fill="#6366f1">
        <animate attributeName="opacity" values="1;0.3;1" dur="0.5s" repeatCount="indefinite" begin="0.1s"/>
      </circle>
      <circle cx="54" cy="51" r="4" fill="#6366f1">
        <animate attributeName="opacity" values="1;0.3;1" dur="0.5s" repeatCount="indefinite" begin="0.2s"/>
      </circle>
    </g>

    <!-- Connection pipe (persistent connection visualization) -->
    <rect x="115" y="112" width="110" height="20" rx="10" fill="#ddd6fe" stroke="#8b5cf6" stroke-width="2"/>
    <text x="170" y="126" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#6366f1" text-anchor="middle" font-weight="700">OPEN CONNECTION</text>

    <!-- Paths -->
    <path id="wsOutPath" d="M125 117 L215 117" stroke="none" fill="none"/>
    <path id="wsInPath" d="M215 127 L125 127" stroke="none" fill="none"/>

    <!-- Rapid bidirectional packets -->
    <circle r="5" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="0.6s" repeatCount="indefinite">
        <mpath href="#wsOutPath"/>
      </animateMotion>
    </circle>
    <circle r="5" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="0.6s" repeatCount="indefinite" begin="0.3s">
        <mpath href="#wsOutPath"/>
      </animateMotion>
    </circle>
    <circle r="5" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.6s" repeatCount="indefinite" begin="0.15s">
        <mpath href="#wsInPath"/>
      </animateMotion>
    </circle>
    <circle r="5" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.6s" repeatCount="indefinite" begin="0.45s">
        <mpath href="#wsInPath"/>
      </animateMotion>
    </circle>

    <text x="70" y="170" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">BROWSER</text>
    <text x="265" y="175" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">WS SERVER</text>

    <!-- Real-time indicator -->
    <g transform="translate(145, 195)">
      <rect x="0" y="0" width="60" height="20" rx="10" fill="#ddd6fe"/>
      <circle cx="12" cy="10" r="4" fill="#8b5cf6">
        <animate attributeName="r" values="4;6;4" dur="1s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="1;0.5;1" dur="1s" repeatCount="indefinite"/>
      </circle>
      <text x="35" y="14" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#6366f1" text-anchor="middle" font-weight="700">LIVE</text>
    </g>
  </g>

  <!-- ======================= CARD 4: gRPC ======================= -->
  <g transform="translate(410, 380)">
    <rect width="350" height="260" rx="16" fill="url(#cardGrad)" filter="url(#shadow)"/>

    <!-- Header -->
    <rect x="0" y="0" width="80" height="38" rx="16" fill="url(#grpcGrad)"/>
    <rect x="0" y="19" width="80" height="19" fill="url(#grpcGrad)"/>
    <text x="15" y="26" font-family="Inter, system-ui, sans-serif" font-size="15" font-weight="700" fill="#ffffff">gRPC</text>

    <!-- gRPC Client (more technical look) -->
    <g transform="translate(25, 95)">
      <rect x="0" y="0" width="80" height="55" rx="4" fill="#1e293b" stroke="#334155" stroke-width="1"/>
      <!-- Terminal style -->
      <rect x="4" y="4" width="72" height="12" fill="#0f172a"/>
      <text x="8" y="13" font-family="monospace" font-size="7" fill="#22c55e">$ grpc-client</text>
      <!-- Binary pattern -->
      <g fill="#00a86b" opacity="0.7" font-family="monospace" font-size="6">
        <text x="8" y="28">01001000</text>
        <text x="8" y="36">10110101</text>
        <text x="8" y="44">01100001</text>
      </g>
    </g>
    <text x="65" y="170" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">CLIENT STUB</text>

    <!-- gRPC Server -->
    <g transform="translate(235, 95)">
      <rect x="0" y="0" width="80" height="55" rx="4" fill="#1e293b" stroke="#334155" stroke-width="1"/>
      <rect x="4" y="4" width="72" height="12" fill="#0f172a"/>
      <text x="8" y="13" font-family="monospace" font-size="7" fill="#22c55e">$ grpc-server</text>
      <g fill="#00a86b" opacity="0.7" font-family="monospace" font-size="6">
        <text x="8" y="28">PROTOBUF</text>
        <text x="8" y="36">SERIALIZE</text>
        <text x="8" y="44">STREAMING</text>
      </g>
    </g>
    <text x="275" y="170" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">SERVER STUB</text>

    <!-- Paths -->
    <path id="grpcReqPath" d="M110 115 L230 115" stroke="none" fill="none"/>
    <path id="grpcResPath" d="M230 135 L110 135" stroke="none" fill="none"/>

    <!-- Binary stream lines -->
    <line x1="110" y1="115" x2="230" y2="115" stroke="#d1d5db" stroke-width="2"/>
    <line x1="230" y1="135" x2="110" y2="135" stroke="#d1d5db" stroke-width="2"/>
    <polygon points="230,115 222,111 222,119" fill="#00a86b"/>
    <polygon points="110,135 118,131 118,139" fill="#00a86b"/>

    <!-- Labels -->
    <text x="170" y="105" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#f59e0b" text-anchor="middle" font-weight="600">PROTO REQUEST</text>
    <text x="170" y="155" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#00a86b" text-anchor="middle" font-weight="600">PROTO RESPONSE</text>

    <!-- Binary-style animated packets -->
    <g filter="url(#glow)">
      <rect width="16" height="8" rx="2" fill="url(#requestPacket)">
        <animateMotion dur="1s" repeatCount="indefinite">
          <mpath href="#grpcReqPath"/>
        </animateMotion>
      </rect>
    </g>
    <g filter="url(#glow)">
      <rect width="16" height="8" rx="2" fill="url(#requestPacket)">
        <animateMotion dur="1s" repeatCount="indefinite" begin="0.25s">
          <mpath href="#grpcReqPath"/>
        </animateMotion>
      </rect>
    </g>
    <g filter="url(#glow)">
      <rect width="16" height="8" rx="2" fill="url(#responsePacket)">
        <animateMotion dur="1s" repeatCount="indefinite" begin="0.5s">
          <mpath href="#grpcResPath"/>
        </animateMotion>
      </rect>
    </g>
    <g filter="url(#glow)">
      <rect width="16" height="8" rx="2" fill="url(#responsePacket)">
        <animateMotion dur="1s" repeatCount="indefinite" begin="0.75s">
          <mpath href="#grpcResPath"/>
        </animateMotion>
      </rect>
    </g>

    <!-- HTTP/2 badge -->
    <g transform="translate(145, 195)">
      <rect x="0" y="0" width="60" height="20" rx="10" fill="#d1fae5"/>
      <text x="30" y="14" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#065f46" text-anchor="middle" font-weight="700">HTTP/2</text>
    </g>
  </g>

  <!-- ======================= CARD 5: MQTT ======================= -->
  <g transform="translate(40, 660)">
    <rect width="350" height="280" rx="16" fill="url(#cardGrad)" filter="url(#shadow)"/>

    <!-- Header -->
    <rect x="0" y="0" width="85" height="38" rx="16" fill="url(#mqttGrad)"/>
    <rect x="0" y="19" width="85" height="19" fill="url(#mqttGrad)"/>
    <text x="15" y="26" font-family="Inter, system-ui, sans-serif" font-size="15" font-weight="700" fill="#1f2937">MQTT</text>

    <!-- Publishers (IoT devices) -->
    <text x="35" y="60" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" font-weight="600">PUBLISHERS</text>

    <!-- Device 1: Temperature sensor -->
    <g transform="translate(20, 70)">
      <rect x="0" y="0" width="40" height="30" rx="4" fill="#fef3c7" stroke="#f59e0b" stroke-width="1"/>
      <circle cx="20" cy="12" r="6" fill="#ef4444"/>
      <rect x="18" y="18" width="4" height="8" fill="#ef4444"/>
      <text x="20" y="37" font-family="Inter, system-ui, sans-serif" font-size="6" fill="#92400e" text-anchor="middle">TEMP</text>
    </g>

    <!-- Device 2: Motion sensor -->
    <g transform="translate(20, 115)">
      <rect x="0" y="0" width="40" height="30" rx="4" fill="#fef3c7" stroke="#f59e0b" stroke-width="1"/>
      <circle cx="20" cy="15" r="8" fill="none" stroke="#f59e0b" stroke-width="2"/>
      <circle cx="20" cy="15" r="4" fill="#f59e0b">
        <animate attributeName="r" values="4;6;4" dur="1s" repeatCount="indefinite"/>
      </circle>
      <text x="20" y="37" font-family="Inter, system-ui, sans-serif" font-size="6" fill="#92400e" text-anchor="middle">MOTION</text>
    </g>

    <!-- Device 3: Light sensor -->
    <g transform="translate(20, 160)">
      <rect x="0" y="0" width="40" height="30" rx="4" fill="#fef3c7" stroke="#f59e0b" stroke-width="1"/>
      <circle cx="20" cy="15" r="8" fill="#fde68a"/>
      <path d="M20 5 L20 2 M28 7 L31 4 M30 15 L34 15 M28 23 L31 26 M20 25 L20 28 M12 23 L9 26 M10 15 L6 15 M12 7 L9 4" stroke="#f59e0b" stroke-width="1.5"/>
      <text x="20" y="37" font-family="Inter, system-ui, sans-serif" font-size="6" fill="#92400e" text-anchor="middle">LIGHT</text>
    </g>

    <!-- Broker (central hub) -->
    <g transform="translate(135, 100)">
      <rect x="0" y="0" width="70" height="70" rx="8" fill="url(#serverGrad)"/>
      <!-- Signal waves -->
      <g stroke="#00a86b" stroke-width="2" fill="none">
        <path d="M35 20 Q45 35 35 50" opacity="0.3">
          <animate attributeName="opacity" values="0.3;0.8;0.3" dur="1.5s" repeatCount="indefinite"/>
        </path>
        <path d="M35 15 Q50 35 35 55" opacity="0.5">
          <animate attributeName="opacity" values="0.5;1;0.5" dur="1.5s" repeatCount="indefinite" begin="0.3s"/>
        </path>
      </g>
      <circle cx="35" cy="35" r="15" fill="#1f2937" stroke="#00a86b" stroke-width="2"/>
      <circle cx="35" cy="35" r="5" fill="#00a86b">
        <animate attributeName="r" values="5;8;5" dur="1.5s" repeatCount="indefinite"/>
      </circle>
    </g>
    <text x="170" y="190" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">BROKER</text>

    <!-- Subscribers -->
    <text x="290" y="60" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" font-weight="600">SUBSCRIBERS</text>

    <!-- Subscriber devices -->
    <g transform="translate(270, 75)">
      <rect x="0" y="0" width="50" height="35" rx="4" fill="#d1fae5" stroke="#00a86b" stroke-width="1"/>
      <rect x="5" y="5" width="40" height="20" fill="#0f172a" rx="2"/>
      <text x="25" y="18" font-family="monospace" font-size="6" fill="#22c55e" text-anchor="middle">23.5C</text>
    </g>
    <g transform="translate(270, 120)">
      <rect x="0" y="0" width="50" height="35" rx="4" fill="#d1fae5" stroke="#00a86b" stroke-width="1"/>
      <rect x="5" y="5" width="40" height="20" fill="#0f172a" rx="2"/>
      <text x="25" y="18" font-family="monospace" font-size="6" fill="#22c55e" text-anchor="middle">ALERT!</text>
    </g>
    <g transform="translate(270, 165)">
      <rect x="0" y="0" width="50" height="35" rx="4" fill="#d1fae5" stroke="#00a86b" stroke-width="1"/>
      <rect x="5" y="5" width="40" height="20" fill="#0f172a" rx="2"/>
      <text x="25" y="18" font-family="monospace" font-size="6" fill="#22c55e" text-anchor="middle">750 lux</text>
    </g>

    <!-- Connection paths -->
    <path id="mqttPub1Path" d="M65 85 Q100 100 135 120" stroke="none" fill="none"/>
    <path id="mqttPub2Path" d="M65 130 Q100 130 135 135" stroke="none" fill="none"/>
    <path id="mqttPub3Path" d="M65 175 Q100 160 135 150" stroke="none" fill="none"/>
    <path id="mqttSub1Path" d="M205 120 Q240 100 270 92" stroke="none" fill="none"/>
    <path id="mqttSub2Path" d="M205 135 Q240 135 270 137" stroke="none" fill="none"/>
    <path id="mqttSub3Path" d="M205 150 Q240 165 270 182" stroke="none" fill="none"/>

    <!-- Static lines -->
    <path d="M65 85 Q100 100 135 120" stroke="#d1d5db" stroke-width="1.5" fill="none"/>
    <path d="M65 130 Q100 130 135 135" stroke="#d1d5db" stroke-width="1.5" fill="none"/>
    <path d="M65 175 Q100 160 135 150" stroke="#d1d5db" stroke-width="1.5" fill="none"/>
    <path d="M205 120 Q240 100 270 92" stroke="#d1d5db" stroke-width="1.5" fill="none"/>
    <path d="M205 135 Q240 135 270 137" stroke="#d1d5db" stroke-width="1.5" fill="none"/>
    <path d="M205 150 Q240 165 270 182" stroke="#d1d5db" stroke-width="1.5" fill="none"/>

    <!-- Animated packets: Publishers to Broker -->
    <circle r="5" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="1.2s" repeatCount="indefinite">
        <mpath href="#mqttPub1Path"/>
      </animateMotion>
    </circle>
    <circle r="5" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="1.2s" repeatCount="indefinite" begin="0.4s">
        <mpath href="#mqttPub2Path"/>
      </animateMotion>
    </circle>
    <circle r="5" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="1.2s" repeatCount="indefinite" begin="0.8s">
        <mpath href="#mqttPub3Path"/>
      </animateMotion>
    </circle>

    <!-- Animated packets: Broker to Subscribers (fan-out) -->
    <circle r="4" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.6s">
        <mpath href="#mqttSub1Path"/>
      </animateMotion>
    </circle>
    <circle r="4" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.6s">
        <mpath href="#mqttSub2Path"/>
      </animateMotion>
    </circle>
    <circle r="4" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.6s">
        <mpath href="#mqttSub3Path"/>
      </animateMotion>
    </circle>

    <!-- IoT badge -->
    <g transform="translate(145, 230)">
      <rect x="0" y="0" width="50" height="20" rx="10" fill="#fef3c7"/>
      <text x="25" y="14" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#92400e" text-anchor="middle" font-weight="700">IoT</text>
    </g>
  </g>

  <!-- ======================= CARD 6: SERVERLESS ======================= -->
  <g transform="translate(410, 660)">
    <rect width="350" height="280" rx="16" fill="url(#cardGrad)" filter="url(#shadow)"/>

    <!-- Header -->
    <rect x="0" y="0" width="140" height="38" rx="16" fill="url(#serverlessGrad)"/>
    <rect x="0" y="19" width="140" height="19" fill="url(#serverlessGrad)"/>
    <text x="15" y="26" font-family="Inter, system-ui, sans-serif" font-size="15" font-weight="700" fill="#ffffff">SERVERLESS</text>

    <!-- Cloud background -->
    <g transform="translate(200, 60)">
      <ellipse cx="60" cy="50" rx="80" ry="50" fill="url(#cloudGrad)" opacity="0.5"/>
      <ellipse cx="40" cy="60" rx="50" ry="35" fill="url(#cloudGrad)" opacity="0.5"/>
      <ellipse cx="90" cy="65" rx="45" ry="30" fill="url(#cloudGrad)" opacity="0.5"/>
    </g>

    <!-- Client -->
    <g transform="translate(30, 110)">
      <rect x="0" y="0" width="70" height="50" rx="6" fill="#e2e8f0" stroke="#94a3b8" stroke-width="1"/>
      <rect x="4" y="4" width="62" height="42" rx="3" fill="url(#screenGrad)"/>
      <rect x="8" y="10" width="40" height="3" rx="1" fill="#60a5fa" opacity="0.7"/>
      <rect x="8" y="16" width="30" height="3" rx="1" fill="#fbbf24" opacity="0.7"/>
      <rect x="8" y="22" width="45" height="3" rx="1" fill="#22c55e" opacity="0.7"/>
      <path d="M0 50 L70 50 L65 56 L5 56 Z" fill="#cbd5e1"/>
    </g>
    <text x="65" y="180" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">CLIENT</text>

    <!-- API Gateway -->
    <g transform="translate(130, 105)">
      <rect x="0" y="0" width="60" height="60" rx="6" fill="#1e293b" stroke="#00a86b" stroke-width="2"/>
      <text x="30" y="25" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#00a86b" text-anchor="middle" font-weight="700">API</text>
      <text x="30" y="38" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#00a86b" text-anchor="middle" font-weight="700">GATEWAY</text>
      <!-- Pulsing indicator -->
      <circle cx="30" cy="50" r="4" fill="#00a86b">
        <animate attributeName="opacity" values="1;0.3;1" dur="1s" repeatCount="indefinite"/>
      </circle>
    </g>

    <!-- Lambda functions -->
    <g transform="translate(230, 80)">
      <!-- Lambda icon -->
      <polygon points="40,0 80,40 40,80 0,40" fill="url(#lambdaGrad)" stroke="#f59e0b" stroke-width="2">
        <animate attributeName="opacity" values="1;0.8;1" dur="2s" repeatCount="indefinite"/>
      </polygon>
      <text x="40" y="45" font-family="Inter, system-ui, sans-serif" font-size="24" fill="#f59e0b" text-anchor="middle" font-weight="800">Î»</text>
    </g>
    <text x="270" y="175" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#64748b" text-anchor="middle" font-weight="600">FUNCTION</text>

    <!-- Connection paths -->
    <path id="slReq1Path" d="M105 135 L130 135" stroke="none" fill="none"/>
    <path id="slReq2Path" d="M190 120 L230 110" stroke="none" fill="none"/>
    <path id="slRes2Path" d="M230 150 L190 140" stroke="none" fill="none"/>
    <path id="slRes1Path" d="M130 145 L105 145" stroke="none" fill="none"/>

    <!-- Lines -->
    <line x1="105" y1="135" x2="125" y2="135" stroke="#d1d5db" stroke-width="2"/>
    <line x1="195" y1="125" x2="230" y2="115" stroke="#d1d5db" stroke-width="2"/>
    <line x1="230" y1="145" x2="195" y2="135" stroke="#d1d5db" stroke-width="2" stroke-dasharray="5,3"/>
    <line x1="125" y1="145" x2="105" y2="145" stroke="#d1d5db" stroke-width="2" stroke-dasharray="5,3"/>

    <!-- Labels -->
    <text x="160" y="200" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#f59e0b" text-anchor="middle" font-weight="600">INVOKE</text>
    <text x="160" y="215" font-family="Inter, system-ui, sans-serif" font-size="9" fill="#00a86b" text-anchor="middle" font-weight="600">RESULT</text>

    <!-- Animated packets -->
    <circle r="6" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite">
        <mpath href="#slReq1Path"/>
      </animateMotion>
    </circle>
    <circle r="6" fill="url(#requestPacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.4s">
        <mpath href="#slReq2Path"/>
      </animateMotion>
    </circle>
    <circle r="6" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="0.8s">
        <mpath href="#slRes2Path"/>
      </animateMotion>
    </circle>
    <circle r="6" fill="url(#responsePacket)" filter="url(#glow)">
      <animateMotion dur="0.8s" repeatCount="indefinite" begin="1.2s">
        <mpath href="#slRes1Path"/>
      </animateMotion>
    </circle>

    <!-- Pay per use badge -->
    <g transform="translate(125, 235)">
      <rect x="0" y="0" width="90" height="20" rx="10" fill="#d1fae5"/>
      <text x="45" y="14" font-family="Inter, system-ui, sans-serif" font-size="8" fill="#065f46" text-anchor="middle" font-weight="700">PAY-PER-USE</text>
    </g>
  </g>

  <!-- ======================= FOOTER ======================= -->
  <text x="400" y="965" font-family="Inter, system-ui, sans-serif" font-size="14" fill="#64748b" text-anchor="middle" font-weight="500">@hoangleitvn</text>

  <!-- Jade green accent bar -->
  <rect x="0" y="985" width="800" height="15" fill="#00a86b"/>
</svg>
